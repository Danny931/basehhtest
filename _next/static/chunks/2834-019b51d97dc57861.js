"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2834],{36948:function(e,n,t){t.d(n,{R3:function(){return i},vh:function(){return o},yJ:function(){return r}});var r=6e4,o=36e5,i=3600},76972:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(36948),o=t(59910),i=t(13882),a=t(93645);function s(e,n,t){(0,i.Z)(2,arguments);var s=(0,o.Z)(e,n)/r.vh;return(0,a.u)(null==t?void 0:t.roundingMethod)(s)}},59910:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(19013),o=t(13882);function i(e,n){return(0,o.Z)(2,arguments),(0,r.Z)(e).getTime()-(0,r.Z)(n).getTime()}},11699:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(59910),o=t(13882),i=t(93645);function a(e,n,t){(0,o.Z)(2,arguments);var a=(0,r.Z)(e,n)/1e3;return(0,i.u)(null==t?void 0:t.roundingMethod)(a)}},40346:function(e,n,t){t.d(n,{L:function(){return r},Z:function(){return S}});var r,o,i=t(70865),a=t(96670),s=t(26297),l=t(52322),c=t(65957),u=t(18397),d=t(30306),m=t(57499),x=t(39010),f=t(94153),h=t(40230),p=t(48608),k=t(33108),g=t(51523),Z=t(98788),v=t(5163);(0,Z.Z)(function(e,n,t,r){var o,i;return(0,v.__generator)(this,function(i){switch(i.label){case 0:return o=r?k.X[r]?void 0:r:void 0,[4,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,symbol:n,decimals:t,image:o}}})];case 1:return[2,i.sent()]}})});var b,j=function(){var e,n,t,r,o;return!(null==window?void 0:null===(e=window.ethereum)||void 0===e?void 0:e.isSafePal)&&((null==window?void 0:null===(n=window.ethereum)||void 0===n?void 0:n.isMetaMask)||(null==window?void 0:null===(t=window.ethereum)||void 0===t?void 0:t.isTrust)||(null==window?void 0:null===(r=window.ethereum)||void 0===r?void 0:r.isCoinbaseWallet)||(null==window?void 0:null===(o=window.ethereum)||void 0===o?void 0:o.isTokenPocket))};(b=r||(r={}))[b.NO_TEXT=0]="NO_TEXT",b[b.TEXT=1]="TEXT",b[b.TEXT_WITH_ASSET=2]="TEXT_WITH_ASSET";var w={Binance:u.Z,"Coinbase Wallet":d.Z,Opera:m.Z,TokenPocket:x.Z,"Trust Wallet":f.Z,MetaMask:h.Z},y=function(e,n){var t,r,o,a,s=(0,i.Z)({width:"16px"},e&&{ml:e});if(n&&w[n]){var c=w[n];return(0,l.jsx)(c,(0,i.Z)({},s))}return(null==window?void 0:null===(t=window.ethereum)||void 0===t?void 0:t.isTrust)?(0,l.jsx)(f.Z,(0,i.Z)({},s)):(null==window?void 0:null===(r=window.ethereum)||void 0===r?void 0:r.isCoinbaseWallet)?(0,l.jsx)(d.Z,(0,i.Z)({},s)):(null==window?void 0:null===(o=window.ethereum)||void 0===o?void 0:o.isTokenPocket)?(0,l.jsx)(x.Z,(0,i.Z)({},s)):(null==window||null===(a=window.ethereum)||void 0===a||a.isMetaMask,(0,l.jsx)(h.Z,(0,i.Z)({},s)))},S=function(e){var n,t,o,u=e.tokenAddress,d=e.tokenSymbol,m=e.tokenDecimals,x=e.tokenLogo,f=e.textOptions,h=void 0===f?r.NO_TEXT:f,Z=e.marginTextBetweenLogo,v=(0,s.Z)(e,["tokenAddress","tokenSymbol","tokenDecimals","tokenLogo","textOptions","marginTextBetweenLogo"]),b=(0,c.$G)().t,w=(0,g.mA)(),S=w.connector,T=w.isConnected,C=j();return(!S||"Binance"!==S.name)&&S&&S.watchAsset&&T&&C?(0,l.jsxs)(p.Z,(0,a.Z)((0,i.Z)({},v),{onClick:function(){var e,n=x?k.X[x]?void 0:x:void 0;null===(e=S.watchAsset)||void 0===e||e.call(S,{address:u,symbol:d,image:n,decimals:m})},children:[h!==r.NO_TEXT&&(h===r.TEXT?b("Add to Wallet"):b("Add %asset% to Wallet",{asset:d})),y(void 0===Z?"0px":Z,null==S?void 0:S.name)]})):null}},22868:function(e,n,t){var r=t(92228),o=t(3411);function i(){var e=(0,r.Z)(["\n  border: 1px solid ",";\n  width: 100%;\n"]);return i=function(){return e},e}var a=o.ZP.hr.withConfig({componentId:"sc-d9299de2-0"})(i(),function(e){return e.theme.colors.cardBorder});n.Z=a},33108:function(e,n,t){t.d(n,{X:function(){return c}});var r=t(70865),o=t(96670),i=t(26297),a=t(52322),s=t(2784),l=t(78933),c={},u=function(e){var n=e.srcs,t=e.alt,u=(0,i.Z)(e,["srcs","alt"]),d=(0,s.useState)(0)[1],m=n.find(function(e){return!c[e]});return m?(0,a.jsx)("img",(0,o.Z)((0,r.Z)({},u),{alt:t,src:m,onError:function(){m&&(c[m]=!0),d(function(e){return e+1})}})):(0,a.jsx)(l.Z,(0,r.Z)({},u))};n.Z=u},91240:function(e,n,t){var r=t(2784),o=t(9270),i=t(76269),a=t(30433),s=function(e){var n=(0,o.Ge)().account,t=(0,i.kL)().reader,s=(0,r.useMemo)(function(){return n&&e?{contract:t,methodName:"allowance",params:[n,e]}:null},[n,t,e]),l=(0,a.Av)(s),c=l.data,u=l.mutate;return{isVaultApproved:!!c&&c.gt(0),setLastUpdated:u}};n.Z=s},68310:function(e,n,t){var r=t(98788),o=t(5163),i=t(52322),a=t(90711),s=t(65957),l=t(76269),c=t(22723),u=t(80361),d=t(78950),m=t(28715),x=function(e,n,t){var x,f=(0,s.$G)().t,h=(0,c.p)().toastSuccess,p=(0,d.Z)(),k=p.fetchWithCatchTxError,g=p.loading,Z=(0,u.r)().callWithMarketGasPrice,v=(0,l.kL)().signer;return{handleApprove:(x=(0,r.Z)(function(){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,k(function(){return Z(v,"approve",[n,a.Bz])})];case 1:return(null==(r=o.sent())?void 0:r.status)&&(h(f("Contract Enabled"),(0,i.jsx)(m.Y,{txHash:r.transactionHash,children:t})),e()),[2]}})}),function(){return x.apply(this,arguments)}),pendingTx:g}};n.Z=x},99381:function(e,n,t){var r=t(2784),o=function(e,n){var t=(0,r.useState)(!1),o=t[0],i=t[1];return(0,r.useEffect)(function(){var t;return e&&!o?i(!0):!e&&o&&(t=setTimeout(function(){return i(!1)},n)),function(){return clearTimeout(t)}},[e,n,o]),o};n.Z=o},53887:function(e,n,t){t.d(n,{o:function(){return y}});var r=t(98788),o=t(87394),i=t(5163),a=t(10528),s=t(49222),l=t(90711),c=t(66188),u=t.n(c),d=t(7599),m=t(84951),x=t(2784),f=t(99225),h=t(2303),p=t(70627),k=t(81834),g=t(73486),Z=t(25152),v=(0,p.Oc)(),b=a.O$.from("1000000000000"),j=function(e,n,t){return s.xs.from(e).mulUnsafe(s.xs.from(Math.max(n,0))).divUnsafe(s.xs.from(t)).divUnsafe(s.xs.from(b))},w=function(e,n){return s.xs.from(e).mulUnsafe(n.addUnsafe(s.xs.from("1")))};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.duration,t=void 0===n?g.VO:n,a=(0,f.Xo)(),c=a.totalShares,p=void 0===c?k.HW:c,b=a.pricePerFullShare,y=void 0===b?k.HW:b,S=a.fees,T=(void 0===S?{performanceFeeAsDecimal:2}:S).performanceFeeAsDecimal,C=(0,x.useMemo)(function(){return s.xs.from(p.toString())},[p]),A=(0,x.useMemo)(function(){return s.xs.from(y.toString())},[y]),D=(0,h.Z)("masterChef-total-cake-pool-emission",(0,r.Z)(function(){var e,n,t,r,a,l,c,u;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return e=[{address:v,name:"cakePerBlock",params:[!1]},{address:v,name:"poolInfo",params:[0]},{address:v,name:"totalSpecialAllocPoint"}],[4,(0,Z.v)({abi:m,calls:e})];case 1:return n=o.Z.apply(void 0,[t.sent(),3]),r=(0,o.Z)(n[0],1)[0],a=n[1],c=(0,o.Z)(n[2],1)[0],u=s.xs.from(a.allocPoint).divUnsafe(s.xs.from(c)),[2,s.xs.from(r).mulUnsafe(s.xs.from(d.Bi)).mulUnsafe(u)]}})})).data,L=(0,x.useMemo)(function(){var e,n,t;return D&&!A.isZero()&&!C.isZero()&&D.mulUnsafe(s.xs.from(l.Ce)).divUnsafe(A).divUnsafe(C).mulUnsafe(s.xs.from(100)).toString()},[A,D,C]),P=(0,x.useMemo)(function(){return j(g.xt,t,g.A0)},[t]),B=(0,x.useMemo)(function(){return L&&w(L,P).toString()},[P,L]),M=(0,x.useCallback)(function(e){return j(g.xt,e,g.A0)},[]);return{flexibleApy:(0,x.useMemo)(function(){if(L&&T){var e=u()(1-T/100);return s.xs.from(L).mulUnsafe(s.xs.from(e)).toString()}return L},[L,T]),lockedApy:B,getLockedApy:(0,x.useCallback)(function(e){return L&&w(L,M(e)).toString()},[L,M]),boostFactor:(0,x.useMemo)(function(){return P.addUnsafe(s.xs.from("1"))},[P]),getBoostFactor:(0,x.useCallback)(function(e){return M(e).addUnsafe(s.xs.from("1"))},[M])}}},10037:function(e,n,t){t.d(n,{i:function(){return r}});var r=86400,o=function(e){var n=Math.abs(e),t={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return n>=31557600&&(t.years=Math.floor(n/31557600),n-=31557600*t.years),n>=2629800&&(t.months=Math.floor(n/2629800),n-=2629800*t.months),n>=r&&(t.days=Math.floor(n/r),n-=t.days*r),n>=3600&&(t.hours=Math.floor(n/3600),n-=3600*t.hours),n>=60&&(t.minutes=Math.floor(n/60),n-=60*t.minutes),t.seconds=n,t};n.Z=o},40907:function(e,n,t){t.d(n,{At:function(){return a},Ch:function(){return o},Eg:function(){return i},rE:function(){return s}});var r=t(91713),o=function(e){return Math.floor(e/86400)},i=function(e){return 1e3*parseInt(e)},a=function(e){var n=new Date(e);return new Date>n||!Number.isFinite(e)?"0 seconds":(0,r.Z)(n,{unit:"day"})},s=function(e,n){var t=new Date(e);return new Date>t||!Number.isFinite(e)?"0 seconds":(0,r.Z)(t,{unit:n})}},97421:function(e,n,t){var r=t(70865),o=t(96670),i=t(26297),a=t(87394),s=t(92228),l=t(52322),c=t(3411),u=t(65342),d=t(76903),m=t(11298),x=t(87652),f=t(84102),h=t(48608),p=t(3188),k=t(89495),g=t(74009),Z=t(65957),v=t(6391),b=t.n(v),j=t(81834),w=t(73486),y=t(26488),S=t(9681);function T(){var e=(0,s.Z)(["\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return T=function(){return e},e}var C=(0,c.ZP)(d.Z).withConfig({componentId:"sc-64c53709-0"})(T()),A=function(e){var n,t,s=e.pool,c=e.showIcon,d=e.stakedBalance,v=e.fontSize,T=e.performanceFee,A=(0,i.Z)(e,["pool","showIcon","stakedBalance","fontSize","performanceFee"]),D=s.stakingToken,L=s.earningToken,P=s.isFinished,B=s.earningTokenPrice,M=s.stakingTokenPrice,E=s.userData,I=s.apr,V=s.rawApr,F=s.vaultKey,N=(0,Z.$G)().t,G=(0,u.Z)().account,U=(0,y.je)(),O=(0,S.zy)(s,U),$=O.shouldShowBlockCountdown,W=O.hasPoolStarted,z=(null==E?void 0:E.stakingTokenBalance)?new(b())(E.stakingTokenBalance):j.HW,_=D.address?"/swap?outputCurrency=".concat(D.address):"/swap",R=(0,a.Z)((0,m.Z)((0,l.jsx)(x.Z,{account:G,earningTokenPrice:B,stakingTokenPrice:M,stakingTokenBalance:d.plus(z),apr:F?V:I,stakingTokenSymbol:D.symbol,linkLabel:N("Get %symbol%",{symbol:D.symbol}),linkHref:_,earningTokenSymbol:L.symbol,autoCompoundFrequency:null!==(t=null===(n=w.Y4[F])||void 0===n?void 0:n.autoCompoundFrequency)&&void 0!==t?t:0,performanceFee:void 0===T?0:T})),1)[0],K=function(e){e.stopPropagation(),R()},H=void 0!==I&&!Number.isNaN(I);return(0,l.jsx)(C,(0,o.Z)((0,r.Z)({alignItems:"center",justifyContent:"flex-start"},A),{children:H||P?(0,l.jsx)(l.Fragment,{children:W||!$?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Z,{onClick:function(e){c&&K(e)},fontSize:void 0===v?"16px":v,isDisabled:P,value:P?0:I,decimals:2,unit:"%"}),!P&&c&&(0,l.jsx)(h.Z,{onClick:K,variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:(0,l.jsx)(p.Z,{color:"textSubtle",width:"20px"})})]}):(0,l.jsx)(k.Z,{children:"-"})}):(0,l.jsx)(g.Z,{width:"80px",height:"16px"})}))};n.Z=A},55440:function(e,n,t){var r=t(52322),o=t(89495),i=t(13670),a=t(65957),s=t(76972),l=t(99225),c=t(93638),u=t(9681),d=function(e){var n=e.pool,t=e.account,d=(0,a.$G)(),m=d.t,x=d.currentLanguage.locale,f=n.earningTokenPrice,h=(0,l.eB)(n.vaultKey),p=h.pricePerFullShare,k=h.userData,g=(0,u.UN)(t,k.cakeAtLastUserAction,k.userShares,p,f,n.vaultKey===c.om.CakeVault?k.currentPerformanceFee.plus(k.currentOverdueFee).plus(k.userBoostedShare):null),Z=g.autoCakeToDisplay,v=g.autoUsdToDisplay,b=k.lastUserActionTime?1e3*parseInt(k.lastUserActionTime):0,j=(0,s.Z)(Date.now(),b),w=j?Z/j:0,y=j?v/j:0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Z,{children:[m("Earned since your last action"),":"]}),(0,r.jsx)(o.Z,{bold:!0,children:new Date(b).toLocaleString(x,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}),j?(0,r.jsxs)(i.Z,{mt:"12px",children:[(0,r.jsxs)(o.Z,{children:[m("Hourly Average"),":"]}),(0,r.jsxs)(o.Z,{bold:!0,children:[w<.01?"<0.01":w.toFixed(2)," CAKE",(0,r.jsxs)(o.Z,{display:"inline-block",ml:"5px",children:["(",y<.01?"<0.01":"~".concat(y.toFixed(2))," USD)"]})]})]}):null]})};n.Z=d},14778:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(52322),o=t(98813),i=t(89495),a=t(76903),s=t(83931),l=t(9270),c=t(65957),u=t(41551),d=t(13882),m=t(36948),x=t(99225),f=t(40907),h=t(10037),p=function(e){var n=e.secondsRemaining,t=(0,c.$G)().t,o=(0,h.Z)(n),a=o.days,s=o.hours,l=o.minutes;return(0,r.jsx)(i.Z,{bold:!0,fontSize:"14px",children:t("%day%d:%hour%h:%minute%m",{day:a,hour:s,minute:l})})},k=function(e){var n=e.isTableVariant,t=e.vaultKey,h=(0,c.$G)().t,k=(0,l.Ge)().account,g=(0,x.eB)(t),Z=g.userData,v=Z.lastDepositedTime,b=Z.userShares,j=g.fees,w=j.withdrawalFee,y=j.withdrawalFeePeriod,S=w/100||"-",T=y?(0,f.Ch)(y):"-",C=(0,o.Z)((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{bold:!0,mb:"4px",children:h("Unstaking fee: %fee%%",{fee:S})}),(0,r.jsx)(i.Z,{children:h("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:T})})]}),{placement:"bottom-start"}),A=C.targetRef,D=C.tooltip,L=C.tooltipVisible,P=(0,u.Z)(parseInt(v,10),b,y),B=P.secondsRemaining,M=P.hasUnstakingFee,E=v&&!M&&b.gt(0),I=k&&v&&M,V=y?function(e){return(0,d.Z)(1,arguments),Math.floor(e/m.R3)}(y):"-";return(0,r.jsxs)(a.Z,{alignItems:n?"flex-start":"center",justifyContent:"space-between",flexDirection:n?"column":"row",children:[L&&D,(0,r.jsxs)(s.Z,{ref:A,small:!0,textTransform:"lowercase",children:[E?"0":S,"% ",E?h("Unstaking Fee"):I?h("unstaking fee before"):h("unstaking fee if withdrawn within %num%h",{num:V})]}),I&&(0,r.jsx)(p,{secondsRemaining:B})]})}},18353:function(e,n,t){t.d(n,{Z:function(){return er}});var r=t(98788),o=t(92228),i=t(50930),a=t(5163),s=t(52322),l=t(2784),c=t(3411),u=t(48608),d=t(76903),m=t(89495),x=t(22723),f=t(62208),h=t(96469),p=t(50420),k=t(44599),g=t(93058),Z=t(3188),v=t(74009),b=t(13670),j=t(73685),w=t(9270),y=t(65957),S=t(88700),T=t(8919),C=t(99225),A=t(53887),D=t(76269),L=t(19081),P=t(41551),B=t(6391),M=t.n(B),E=t(18426),I=t(78950),V=t(36664),F=t(93638),N=t(97252),G=t(28715),U=t(73486),O=t(95522),$=t(80361),W=t(18666),z=t(85074),_=t(98813),R=t(83931),K=t(40907),H=t(14778),Y=function(e){var n=e.stakingTokenSymbol,t=e.stakeAmount,r=e.vaultKey,o=(0,y.$G)().t,i=(0,C.eB)(r),a=i.fees,l=a.withdrawalFee,c=a.withdrawalFeePeriod,u=i.userData.lastDepositedTime,x=l/100,f=(parseFloat(t)*(x/100)).toFixed(4),h=c?(0,K.Ch)(c):"-",p=(0,_.Z)((0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{bold:!0,mb:"4px",children:o("Unstaking fee: %fee%%",{fee:x})}),(0,s.jsx)(m.Z,{children:o("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:h})})]}),{placement:"top-start"}),k=p.targetRef,g=p.tooltip,Z=p.tooltipVisible,v=u&&(0,P.D)(parseInt(u,10),c);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.Z,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[Z&&g,(0,s.jsx)(R.Z,{ref:k,small:!0,children:o("Unstaking Fee")}),(0,s.jsxs)(m.Z,{fontSize:"14px",children:[t&&v?f:"-"," ",n]})]}),(0,s.jsx)(H.Z,{vaultKey:r})]})},X=t(9681);function q(){var e=(0,o.Z)(["\n  flex-grow: 1;\n"]);return q=function(){return e},e}function J(){var e=(0,o.Z)(["\n  cursor: pointer;\n"]);return J=function(){return e},e}function Q(){var e=(0,o.Z)(["\n  width: 72px;\n  max-width: 72px;\n  overflow: hidden;\n  text-align: right;\n  text-overflow: ellipsis;\n"]);return Q=function(){return e},e}var ee=(0,c.ZP)(u.Z).withConfig({componentId:"sc-4a880e2d-0"})(q()),en=(0,c.ZP)(d.Z).withConfig({componentId:"sc-4a880e2d-1"})(J()),et=(0,c.ZP)(m.Z).withConfig({componentId:"sc-4a880e2d-2"})(Q()),er=function(e){var n,t,o,c=e.pool,B=e.stakingMax,_=e.performanceFee,R=e.isRemovingStake,K=void 0!==R&&R,H=e.onDismiss,q=(0,S.TL)(),J=c.stakingToken,Q=c.earningTokenPrice,er=c.vaultKey,eo=(0,w.Ge)().account,ei=(0,I.Z)(),ea=ei.fetchWithCatchTxError,es=ei.loading,el=(0,D.Ak)(c.vaultKey),ec=(0,$.r)().callWithMarketGasPrice,eu=(0,C.eB)(c.vaultKey),ed=eu.pricePerFullShare,em=eu.userData,ex=em.lastDepositedTime,ef=em.userShares,eh=em.balance,ep=eh.cakeAsBigNumber,ek=eh.cakeAsNumberBalance,eg=(0,y.$G)().t,eZ=(0,L.ZP)().theme,ev=(0,x.p)().toastSuccess,eb=(0,l.useState)(""),ej=eb[0],ew=eb[1],ey=(0,l.useState)(0),eS=ey[0],eT=ey[1],eC=(0,l.useState)(!1),eA=eC[0],eD=eC[1],eL=(0,P.Z)(parseInt(ex,10),ef).hasUnstakingFee,eP=(0,T.Iu)(),eB=new(M())(ej).times(eP),eM=eP.gt(0)&&ej?(0,E.uf)(eB.toNumber()):"",eE=(0,A.o)().flexibleApy,eI={gasLimit:U.Y4[c.vaultKey].gasLimit},eV=(0,N.A1)({principalInUSD:eB.isNaN()?0:eB.toNumber(),apr:+eE,earningTokenPrice:Q,performanceFee:_,compoundFrequency:0})[3]*c.earningTokenPrice,eF=(0,E.uf)(eV,eV>1e4?0:2,eV>1e4?0:2),eN=J.address?"/swap?outputCurrency=".concat(J.address):"/swap",eG=(0,E.Qe)(new(M())(ej),J.decimals),eU=function(e){if(e){var n=Math.floor(new(M())(e).multipliedBy((0,O.t)(J.decimals)).dividedBy(B).multipliedBy(100).toNumber());eT(n>100?100:n)}else eT(0);ew(e)},eO=(0,l.useCallback)(function(e){if(e>0){var n=B.dividedBy(100).multipliedBy(e);ew((0,E.NJ)(n,J.decimals,J.decimals))}else ew("");eT(e)},[B,J.decimals]),e$=(n=(0,r.Z)(function(){var e,n;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return e=B.minus(eG).lte(X.dF),[4,ea(function(){if(e)return ec(el,"withdrawAll",void 0,eI);if(c.vaultKey===F.om.CakeFlexibleSideVault){var n=(0,X.CE)(eG,ed).sharesAsBigNumber;return ec(el,"withdraw",[n.toString()],eI)}return ec(el,"withdrawByAmount",[eG.toString()],eI)})];case 1:return(null==(n=t.sent())?void 0:n.status)&&(ev(eg("Unstaked!"),(0,s.jsx)(G.Y,{txHash:n.transactionHash,children:eg("Your earnings have also been harvested to your wallet")})),null==H||H(),q((0,V.x$)({account:eo}))),[2]}})}),function(){return n.apply(this,arguments)}),eW=(t=(0,r.Z)(function(){var e,n,t=arguments;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:0,[4,ea(function(){var n=c.vaultKey===F.om.CakeVault?[e.toString()]:[];return ec(el,"deposit",[eG.toString()].concat((0,i.Z)(n)),eI)})];case 1:return(null==(n=r.sent())?void 0:n.status)&&(ev(eg("Staked!"),(0,s.jsx)(G.Y,{txHash:n.transactionHash,children:eg("Your funds have been staked in the pool")})),null==H||H(),q((0,V.x$)({account:eo}))),[2]}})}),function(){return t.apply(this,arguments)}),ez=(o=(0,r.Z)(function(){return(0,a.__generator)(this,function(e){return K?e$():eW(),[2]})}),function(){return o.apply(this,arguments)});return eA?(0,s.jsx)(W.E,{pool:c,linkLabel:eg("Get %symbol%",{symbol:J.symbol}),linkHref:eN,stakingTokenBalance:ep.plus(B),onBack:function(){return eD(!1)},initialValue:ej,performanceFee:_}):(0,s.jsxs)(f.ZP,{title:K?eg("Unstake"):eg("Stake in Pool"),onDismiss:H,headerBackground:eZ.colors.gradientCardHeader,children:[(0,s.jsxs)(d.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,s.jsxs)(m.Z,{bold:!0,children:[K?eg("Unstake"):eg("Stake"),":"]}),(0,s.jsxs)(d.Z,{alignItems:"center",minWidth:"70px",children:[(0,s.jsx)(h.Z,{src:"/images/tokens/".concat(J.address,".png"),width:24,height:24,alt:J.symbol}),(0,s.jsx)(m.Z,{ml:"4px",bold:!0,children:J.symbol})]})]}),(0,s.jsx)(p.Z,{value:ej,onUserInput:eU,currencyValue:eP.gt(0)&&"~".concat(eM||0," USD"),decimals:J.decimals}),(0,s.jsx)(m.Z,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:eg("Balance: %balance%",{balance:(0,E.NJ)(B,J.decimals)})}),(0,s.jsx)(k.Z,{min:0,max:100,value:eS,onValueChanged:eO,name:"stake",valueLabel:"".concat(eS,"%"),step:1}),(0,s.jsxs)(d.Z,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[(0,s.jsx)(ee,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eO(25)},children:"25%"}),(0,s.jsx)(ee,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eO(50)},children:"50%"}),(0,s.jsx)(ee,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eO(75)},children:"75%"}),(0,s.jsx)(ee,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eO(100)},children:eg("Max")})]}),K&&eL&&(0,s.jsx)(Y,{vaultKey:er,stakingTokenSymbol:J.symbol,stakeAmount:ej}),!K&&(0,s.jsxs)(d.Z,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[(0,s.jsxs)(m.Z,{mr:"8px",color:"textSubtle",children:[eg("Annual ROI at current rates"),":"]}),Number.isFinite(eV)?(0,s.jsxs)(en,{alignItems:"center",onClick:function(){eD(!0)},children:[(0,s.jsxs)(et,{children:["$",eF]}),(0,s.jsx)(g.Z,{variant:"text",scale:"sm",children:(0,s.jsx)(Z.Z,{color:"textSubtle",width:"18px"})})]}):(0,s.jsx)(v.Z,{width:60})]}),c.vaultKey===F.om.CakeVault&&ek?(0,s.jsx)(b.Z,{mt:"8px",maxWidth:"370px",children:(0,s.jsx)(z.Z,{stakingToken:J,currentStakedAmount:ek})}):null,(0,s.jsx)(u.Z,{isLoading:es,endIcon:es?(0,s.jsx)(j.Z,{spin:!0,color:"currentColor"}):null,onClick:ez,disabled:!ej||0===parseFloat(ej)||B.lt(eG),mt:"24px",children:es?eg("Confirming"):eg("Confirm")}),!K&&(0,s.jsx)(u.Z,{mt:"8px",as:"a",external:!0,href:eN,variant:"secondary",children:eg("Get %symbol%",{symbol:J.symbol})})]})}},99420:function(e,n,t){t.d(n,{Z:function(){return V}});var r=t(87394),o=t(52322),i=t(2784),a=t(11298),s=t(48608),l=t(74009),c=t(65957),u=t(99225),d=t(11699),m=t(40907),x=t(76660),f=t(76903),h=t(7887),p=t(89495),k=t(62208),g=t(13670),Z=t(34291),v=t.n(Z),b=t(6391),j=t.n(b),w=t(19081),y=t(36695),S=t(18426),T=t(73486),C=t(81834),A=t(3518),D=t(60398),L=t(11592),P=t(86510),B=function(e){var n=e.setCheckedState,t=e.checkedState,r=(0,c.$G)().t;return(0,o.jsxs)(o.Fragment,{children:[!t&&(0,o.jsx)(x.Z,{variant:"warning",mb:"16px",children:(0,o.jsx)(x.Y,{maxWidth:"320px",children:r("Adding more CAKE will renew your lock, setting it to remaining duration. Due to shorter lock period, benefits decrease. To keep similar benefits, extend your lock.")})}),(0,o.jsxs)(f.Z,{alignItems:"center",children:[(0,o.jsx)(h.Z,{checked:t,onChange:function(){return n(function(e){return!e})},scale:"sm"}),(0,o.jsx)(p.Z,{ml:"8px",color:"text",children:r("Renew and extend your lock to keep similar benefits.")})]})]})},M=function(e){var n=e.onDismiss,t=e.currentBalance,r=e.currentLockedAmount,a=e.stakingToken,s=e.lockStartTime,l=e.lockEndTime,x=e.stakingTokenBalance,f=(0,w.ZP)().theme,h=(0,u.dd)(),p=(0,i.useState)(""),Z=p[0],b=p[1],M=(0,i.useState)(!1),E=M[0],I=M[1],V=(0,c.$G)().t,F=Number.isNaN(new(j())(Z).toNumber())?C.HW:new(j())(Z),N=(0,S.mW)(r.plus((0,S.Qe)(F))),G=(0,S.U4)(r),U=(0,y.Tx)(F.toNumber()),O=(0,y.Tx)(N),$=(0,d.Z)(new Date((0,m.Eg)(l)),new Date,{roundingMethod:"ceil"}),W=(0,d.Z)(new Date,new Date((0,m.Eg)(s)),{roundingMethod:"ceil"}),z=Math.max(T.kp+60,$+W),_=(0,i.useCallback)(function(){return{finalDuration:E?z-$:0}},[z,E,$]),R=(0,i.useCallback)(function(){return(0,o.jsx)(P.Z,{isValidDuration:!0,openCalculator:v(),duration:$,newDuration:E?z:null,lockedAmount:G.toNumber(),newLockedAmount:N,usdValueStaked:O,lockEndTime:l,ceiling:h})},[$,E,G,z,N,O,l,h,]);return(0,o.jsx)(A.Z,{lockedAmount:Z,children:(0,o.jsxs)(k.ZP,{title:V("Add CAKE"),onDismiss:n,headerBackground:f.colors.gradientCardHeader,children:[(0,o.jsx)(g.Z,{mb:"16px",children:(0,o.jsx)(D.Z,{stakingAddress:a.address,stakingSymbol:a.symbol,stakingDecimals:a.decimals,lockedAmount:Z,usedValueStaked:U,stakingMax:t,setLockedAmount:b,stakingTokenBalance:x})}),(0,o.jsx)(L.Z,{currentBalance:t,stakingToken:a,onDismiss:n,lockedAmount:F,editAmountOnly:(0,o.jsx)(B,{checkedState:E,setCheckedState:I}),prepConfirmArg:_,customOverview:R})]})})},E=t(69688),I=function(e){var n=e.currentBalance,t=e.stakingToken,d=e.currentLockedAmount,m=e.lockEndTime,x=e.lockStartTime,f=e.stakingTokenBalance,h=(0,u.AI)(0).pool.userDataLoaded,p=(0,c.$G)().t,k=(0,r.Z)((0,a.Z)((0,o.jsx)(M,{currentLockedAmount:d,currentBalance:n,stakingToken:t,lockStartTime:x,lockEndTime:m,stakingTokenBalance:f}),!0,!0,"AddAmountModal"),1)[0],g=(0,r.Z)((0,a.Z)((0,o.jsx)(E.Z,{tokenSymbol:t.symbol})),1)[0],Z=(0,i.useCallback)(function(){return n.gt(0)?k():g()},[n,k,g]);return h?(0,o.jsx)(s.Z,{onClick:Z,width:"100%",style:{whiteSpace:"nowrap",paddingLeft:0,paddingRight:0},children:p("Add CAKE")}):(0,o.jsx)(l.Z,{height:48})},V=(0,i.memo)(I)},62164:function(e,n,t){t.d(n,{Z:function(){return E}});var r=t(70865),o=t(96670),i=t(26297),a=t(87394),s=t(52322),l=t(2784),c=t(11298),u=t(48608),d=t(73486),m=t(62208),x=t(13670),f=t(34291),h=t.n(f),p=t(19081),k=t(36695),g=t(65957),Z=t(6391),v=t.n(Z),b=t(99225),j=t(18426),w=t(89495),y=t(76903),S=t(84102),T=t(96469),C=t(22868),A=function(e){var n=e.stakingSymbol,t=e.stakingAddress,r=e.lockedAmount,o=e.usdValueStaked,i=(0,g.$G)().t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:i("Add CAKE to lock")}),(0,s.jsxs)(y.Z,{alignItems:"center",justifyContent:"space-between",mb:"16px",children:[(0,s.jsxs)(x.Z,{children:[(0,s.jsx)(S.Z,{color:"text",bold:!0,fontSize:"16px",value:r,decimals:2}),(0,s.jsx)(S.Z,{value:o,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"})]}),(0,s.jsxs)(y.Z,{alignItems:"center",minWidth:"70px",children:[(0,s.jsx)(T.Z,{src:"/images/tokens/".concat(t,".png"),width:24,height:24,alt:n}),(0,s.jsx)(w.Z,{ml:"4px",bold:!0,children:n})]})]}),(0,s.jsx)(C.Z,{})]})},D=t(11592),L=t(86510),P=t(3518),B=t(9681),M=function(e){var n=e.modalTitle,t=e.stakingToken,r=e.onDismiss,o=e.currentLockedAmount,i=e.currentDuration,a=e.currentDurationLeft,c=e.currentBalance,u=e.lockStartTime,f=(0,p.ZP)().theme,Z=(0,b.dd)(),w=(0,g.$G)().t,y=(0,k.Tx)(o),S=(0,l.useCallback)(function(e){var n=e.duration,t=a+n;return{isValidAmount:o&&o>0,isValidDuration:n>0&&t>0&&t<=d.VO,isOverMax:t>d.VO}},[o,a]),T=(0,l.useCallback)(function(e){var n=e.duration;return{finalDuration:n,finalLockedAmount:i&&i+n>d.VO?(0,j.U4)(B.iL,t.decimals).toNumber():0}},[t.decimals,i]),C=(0,l.useCallback)(function(e){var n=e.isValidDuration,t=e.duration;return(0,s.jsx)(L.Z,{lockStartTime:i+t>d.VO?Math.floor(Date.now()/1e3).toString():u,isValidDuration:n,openCalculator:h(),duration:i||t,newDuration:i+t>d.VO?a+t:i+t,lockedAmount:o,usdValueStaked:y,showLockWarning:!+u,ceiling:Z})},[u,i,o,a,y,Z]);return(0,s.jsx)(P.Z,{lockedAmount:o,children:(0,s.jsxs)(m.ZP,{title:n||w("Extend Lock"),onDismiss:r,headerBackground:f.colors.gradientCardHeader,children:[(0,s.jsx)(x.Z,{mb:"16px",children:(0,s.jsx)(A,{stakingAddress:t.address,stakingSymbol:t.symbol,lockedAmount:o,usdValueStaked:y})}),(0,s.jsx)(D.Z,{stakingToken:t,currentBalance:c,currentDuration:i,currentDurationLeft:a,onDismiss:r,lockedAmount:new(v())(o),validator:S,prepConfirmArg:T,customOverview:C})]})})},E=function(e){var n=e.modalTitle,t=e.stakingToken,m=e.currentLockedAmount,x=e.currentBalance,f=e.lockEndTime,h=e.lockStartTime,p=e.children,k=(0,i.Z)(e,["modalTitle","stakingToken","currentLockedAmount","currentBalance","lockEndTime","lockStartTime","children"]),g=Math.floor(Date.now()/1e3),Z=(0,l.useMemo)(function(){return Number(f)-Number(h)},[f,h]),v=(0,l.useMemo)(function(){return Math.max(Number(f)-g,0)},[f,g]),b=(0,a.Z)((0,c.Z)((0,s.jsx)(M,{modalTitle:n,stakingToken:t,lockStartTime:h,currentBalance:x,currentLockedAmount:m,currentDuration:Z,currentDurationLeft:v}),!0,!0,"ExtendDurationModal"),1)[0];return(0,s.jsx)(u.Z,(0,o.Z)((0,r.Z)({disabled:Number.isFinite(v)&&d.VO-v<d.kp,onClick:b,width:"100%"},k),{children:p}))}},56897:function(e,n,t){t.d(n,{Z:function(){return E}});var r,o=t(47842),i=t(52322),a=t(2784),s=t(62392),l=t(76903),c=t(13670),u=t(76660),d=t(65957),m=t(60471),x=t(27240),f=t(98788),h=t(70865),p=t(96670),k=t(5163),g=t(22723),Z=t(48608),v=t(9270),b=t(28715),j=t(73486),w=t(80361),y=t(78950),S=t(76269),T=t(88700),C=t(36664),A=t(93638),D=function(e){var n=(0,T.TL)(),t=(0,v.Ge)().account,r=(0,y.Z)(),o=r.fetchWithCatchTxError,s=r.loading,l=(0,S.Ak)(A.om.CakeVault),c=(0,w.r)().callWithMarketGasPrice,u=(0,d.$G)().t,m=(0,g.p)().toastSuccess,x=(0,a.useCallback)((0,f.Z)(function(){var e,r;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return e={gasLimit:j.Y4[A.om.CakeVault].gasLimit},[4,o(function(){return c(l,"unlock",[t],e)})];case 1:return(null==(r=a.sent())?void 0:r.status)&&(m(u("Staked!"),(0,i.jsx)(b.Y,{txHash:r.transactionHash,children:u("Your funds have been staked in the pool")})),n((0,C.x$)({account:t}))),[2]}})}),[u,m,t,c,n,o,l]);return(0,i.jsx)(Z.Z,(0,p.Z)((0,h.Z)({width:"100%",disabled:s,onClick:x,variant:"secondary"},e),{children:s?u("Converting..."):u("Convert to Flexible")}))},L=(0,a.memo)(D),P=t(62164),B=(r={},(0,o.Z)(r,x.PS.None,null),(0,o.Z)(r,x.PS.Flexible,null),(0,o.Z)(r,x.PS.Locked,null),(0,o.Z)(r,x.PS.LockedEnd,(0,i.jsx)(m.Z,{children:"The lock period has ended. Convert to flexible staking or renew your position to start a new lock staking."})),(0,o.Z)(r,x.PS.AfterBurning,(0,i.jsx)(m.Z,{children:"The lock period has ended. To avoid more rewards being burned, convert to flexible staking or renew your position to start a new lock staking."})),r),M=function(e){var n=e.currentLockedAmount,t=e.stakingToken,r=e.position,o=e.isInline,a=(0,d.$G)().t,m=(0,s.Z)().isDesktop,x=o&&m,f=x?l.Z:c.Z;return(0,i.jsx)(u.Z,{variant:"warning",mb:"16px",action:(0,i.jsxs)(f,{mt:!x&&"8px",ml:"10px",children:[(0,i.jsx)(P.Z,{modalTitle:a("Renew"),lockEndTime:"0",lockStartTime:"0",stakingToken:t,currentLockedAmount:n,minWidth:"186px",variant:"primary",mr:x&&"14px",mb:!x&&"8px",children:a("Renew")}),(0,i.jsx)(L,{minWidth:x&&"200px"})]}),actionInline:x,children:(0,i.jsx)(u.Y,{children:B[r]})})},E=(0,a.memo)(M)},60398:function(e,n,t){var r=t(92228),o=t(52322),i=t(48608),a=t(76903),s=t(89495),l=t(96469),c=t(50420),u=t(44599),d=t(6391),m=t.n(d),x=t(65957),f=t(2784),h=t(3411),p=t(18426),k=t(95522),g=t(39513);function Z(){var e=(0,r.Z)(["\n  flex-grow: 1;\n"]);return Z=function(){return e},e}var v=(0,h.ZP)(i.Z).withConfig({componentId:"sc-f9d76ea2-0"})(Z()),b=function(e){var n=e.stakingAddress,t=e.stakingSymbol,r=e.stakingDecimals,i=e.lockedAmount,d=e.stakingMax,h=e.setLockedAmount,Z=e.usedValueStaked,b=e.stakingTokenBalance,j=(0,x.$G)().t,w=(0,g.S)(i,b),y=w.userNotEnoughCake,S=w.notEnoughErrorMessage,T=(0,f.useMemo)(function(){var e=new(m())(i);if(e.gt(0)){var n=Math.floor(e.multipliedBy((0,k.t)(r)).dividedBy(d).multipliedBy(100).toNumber());return n>100?100:n}return 0},[i,r,d]),C=(0,f.useCallback)(function(e){h(e)},[h]),A=(0,f.useCallback)(function(e){if(e>0){var n=d.dividedBy(100).multipliedBy(e),t=(0,p.NJ)(n,r,r);h(t)}else h("")},[d,h,r]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,o.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:j("CAKE to lock")}),(0,o.jsxs)(a.Z,{alignItems:"center",minWidth:"70px",children:[(0,o.jsx)(l.Z,{src:"/images/tokens/".concat(n,".png"),width:24,height:24,alt:t}),(0,o.jsx)(s.Z,{ml:"4px",bold:!0,children:t})]})]}),(0,o.jsx)(c.Z,{isWarning:y,value:i,onUserInput:C,currencyValue:"~".concat(Z||0," USD"),decimals:r}),(0,o.jsx)(a.Z,{alignItems:"center",justifyContent:"flex-end",mt:"4px",mb:"12px",children:(0,o.jsx)(a.Z,{justifyContent:"flex-end",flexDirection:"column",children:y&&(0,o.jsx)(s.Z,{fontSize:"12px",color:"failure",children:S})})}),(0,o.jsx)(s.Z,{mt:"8px",textAlign:"end",color:"textSubtle",fontSize:"12px",mb:"8px",children:j("Balance: %balance%",{balance:(0,p.NJ)(d,r)})}),(0,o.jsx)(u.Z,{min:0,max:100,value:T,onValueChanged:A,name:"stake",valueLabel:"".concat(T,"%"),step:1}),(0,o.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return A(25)},children:"25%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return A(50)},children:"50%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return A(75)},children:"75%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return A(100)},children:j("Max")})]})]})};n.Z=(0,f.memo)(b)},30344:function(e,n,t){var r=t(52322),o=t(2784),i=t(98838),a=t(10037),s=t(73486),l=t(61973),c=t(11699),u=t(40907),d=function(e){var n=e.lockEndTime,t=(0,o.useState)(0),d=t[0],m=t[1],x=(0,o.useMemo)(function(){return(0,l.Z)((0,u.Eg)(n),s.by)},[n]),f=(0,o.useCallback)(function(){m((0,c.Z)(x,new Date))},[x]);(0,i.Yz)(f,6e4);var h=(0,a.Z)(d),p=h.days,k=h.hours,g=h.minutes;return(0,r.jsx)(r.Fragment,{children:"".concat(p,"d: ").concat(k,"h: ").concat(g,"m")})};n.Z=(0,o.memo)(d)},85074:function(e,n,t){var r=t(52322),o=t(62392),i=t(76660),a=t(76903),s=t(65957),l=t(2784),c=t(53887),u=t(62164),d=t(22557),m=function(e){var n=e.stakingToken,t=e.currentStakedAmount,l=e.isInline,m=(0,s.$G)().t,x=(0,o.Z)().isMobile,f=l&&!x,h=(0,d.Z)().avgLockDurationsInSeconds,p=(0,c.o)({duration:h}).lockedApy;return(0,r.jsx)(i.Z,{variant:"warning",action:(0,r.jsx)(a.Z,{mt:!f&&"8px",flexGrow:1,ml:f&&"80px",children:(0,r.jsx)(u.Z,{modalTitle:m("Convert to Lock"),lockEndTime:"0",lockStartTime:"0",stakingToken:n,currentLockedAmount:t,children:m("Convert to Lock")})}),actionInline:f,children:(0,r.jsx)(i.Y,{children:m("Lock staking users are earning an average of %amount%% APY. More benefits are coming soon.",{amount:p?parseFloat(p).toFixed(2):0})})})};n.Z=(0,l.memo)(m)},65878:function(e,n,t){var r=t(92228),o=t(52322),i=t(2784),a=t(13023),s=t(13670),l=t(76903),c=t(89495),u=t(48608),d=t(76660),m=t(3411),x=t(65957),f=t(7642),h=t.n(f),p=t(73486),k=t(14457);function g(){var e=(0,r.Z)(["\n  text-align: right;\n  margin-right: 8px;\n"]);return g=function(){return e},e}var Z=[1,5,10,25],v=(0,m.ZP)(a.Z).withConfig({componentId:"sc-79aefbd4-0"})(g()),b=function(e){var n=e.duration,t=e.setDuration,r=e.isOverMax,a=e.currentDuration,m=e.currentDurationLeft,f=(0,x.$G)().t,g=(0,i.useState)(!1),b=g[0],j=g[1],w=m?p.VO-m:p.VO;(0,i.useEffect)(function(){b&&t(w)},[b,w,t]);var y=(0,i.useMemo)(function(){return a&&(0,k.Ot)(a)},[a]),S=(0,i.useMemo)(function(){return(0,k.Ot)(p.VO)},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.Z,{mb:"16px",children:[(0,o.jsxs)(l.Z,{mb:"8px",children:[(0,o.jsx)(c.Z,{fontSize:"12px",color:"secondary",bold:!0,mr:"2px",textTransform:"uppercase",children:f("Add")}),(0,o.jsx)(c.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:f("duration")})]}),(0,o.jsxs)(l.Z,{flexWrap:"wrap",children:[Z.map(function(e){var r=(0,k.AS)(e);return(0,o.jsxs)(u.Z,{onClick:function(){j(!1),t(r)},mt:"4px",mr:["2px","2px","4px","4px"],scale:"sm",disabled:r>w,variant:r===n?"subtle":"tertiary",children:[e,"W"]},e)}),(0,o.jsx)(u.Z,{onClick:function(){j(!0)},mt:"4px",mr:["2px","2px","4px","4px"],scale:"sm",disabled:w<p.kp,variant:b?"subtle":"tertiary",children:f("Max")},"max")]})]}),(0,o.jsxs)(l.Z,{justifyContent:"center",alignItems:"center",mb:"8px",children:[(0,o.jsx)(v,{value:(0,k.Ot)(n),autoComplete:"off",pattern:"^[0-9]+$",inputMode:"numeric",onChange:function(e){j(!1);var n,r,o=h()(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.value);e.currentTarget.validity.valid&&o<530&&t((0,k.AS)(h()(null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.value)))}}),(0,o.jsx)(c.Z,{children:f("Week")})]}),r&&(0,o.jsx)(c.Z,{fontSize:"12px",textAlign:"right",color:"failure",children:f("Total lock duration exceeds 52 weeks")}),m&&y===S&&!b?(0,o.jsx)(d.Z,{variant:"warning",children:(0,o.jsx)(d.Y,{maxWidth:"240px",children:f('Recommend choosing "MAX" to renew your staking position in order to keep similar yield boost.')})}):null]})};n.Z=b},28274:function(e,n,t){var r=t(52322),o=t(76903),i=t(89495),a=t(65957),s=function(e){var n=e.weekDuration,t=(0,a.$G)().t;return(0,r.jsxs)(o.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(i.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:t("Lock Duration")}),(0,r.jsx)(i.Z,{color:"text",bold:!0,fontSize:"16px",children:n})]})};n.Z=s},11592:function(e,n,t){t.d(n,{Z:function(){return F}});var r=t(52322),o=t(2784),i=t(25237),a=t.n(i),s=t(13670),l=t(89495),c=t(76660),u=t(76903),d=t(48608),m=t(73685),x=t(34291),f=t.n(x),h=t(65957),p=t(73486),k=t(18426),g=t(99225),Z=t(86510),v=t(65878),b=t(98788),j=t(5163),w=t(9270),y=t(88700),S=t(36695),T=t(76269),C=t(6391),A=t.n(C),D=t(22723),L=t(78950),P=t(36664),B=t(93638),M=t(28715),E=t(80361),I=t(9681),V=a()(function(){return Promise.all([t.e(7553),t.e(3346)]).then(t.bind(t,43346))},{loadableGenerated:{webpack:function(){return[43346]}},ssr:!1}),F=function(e){var n,t,i,a,x,C,F,N,G,U,O,$,W,z,_,R,K,H,Y,X,q,J=e.stakingToken,Q=e.onDismiss,ee=e.lockedAmount,en=e.currentBalance,et=e.currentDuration,er=e.currentDurationLeft,eo=e.editAmountOnly,ei=e.prepConfirmArg,ea=e.validator,es=e.customOverview,el=(0,h.$G)().t,ec=(0,g.dd)(),eu=(t=(n={stakingToken:J,onDismiss:Q,lockedAmount:ee,prepConfirmArg:ei}).lockedAmount,i=n.stakingToken,a=n.onDismiss,x=n.prepConfirmArg,C=(0,y.TL)(),F=(0,w.Ge)().account,G=(N=(0,L.Z)()).fetchWithCatchTxError,U=N.loading,O=(0,T.Ak)(B.om.CakeVault),$=(0,E.r)().callWithMarketGasPrice,W=(0,h.$G)().t,z=(0,D.p)().toastSuccess,R=(_=(0,o.useState)(p.kp))[0],K=_[1],H=(0,S.Tx)(t.toNumber()),X=(0,o.useCallback)((Y=(0,b.Z)(function(e,n){var t,o;return(0,j.__generator)(this,function(i){switch(i.label){case 0:return t={gasLimit:p.Y4[B.om.CakeVault].gasLimit},[4,G(function(){return $(O,"deposit",[e.toString(),n],t)})];case 1:return(null==(o=i.sent())?void 0:o.status)&&(z(W("Staked!"),(0,r.jsx)(M.Y,{txHash:o.transactionHash,children:W("Your funds have been staked in the pool")})),null==a||a(),C((0,P.x$)({account:F}))),[2]}})}),function(e,n){return Y.apply(this,arguments)}),[G,z,C,a,F,O,W,$]),q=(0,o.useCallback)((0,b.Z)(function(){var e,n,r,o,a,s;return(0,j.__generator)(this,function(l){return r=void 0===(n=(e="function"==typeof x?x({duration:R}):{}).finalLockedAmount)?t:n,a=void 0===(o=e.finalDuration)?R:o,s=(0,k.Qe)(new(A())(r),i.decimals),X(s,a),[2]})}),[x,i,X,R,t]),{usdValueStaked:H,duration:R,setDuration:K,pendingTx:U,handleConfirmClick:q}),ed=eu.usdValueStaked,em=eu.duration,ex=eu.setDuration,ef=eu.pendingTx,eh=eu.handleConfirmClick,ep=(0,o.useMemo)(function(){return"function"==typeof ea?ea({duration:em}):{isValidAmount:(null==ee?void 0:ee.toNumber())>0&&(0,k.U4)(en).gte(ee),isValidDuration:em>0&&em<=p.VO,isOverMax:em>p.VO}},[ea,en,ee,em]),ek=ep.isValidAmount,eg=ep.isValidDuration,eZ=ep.isOverMax,ev=(0,o.useMemo)(function(){return eg&&et&&et+em>p.VO},[eg,et,em]),eb=(0,o.useMemo)(function(){return null==en?void 0:en.gte(I.iL)},[en]),ej=(0,o.useMemo)(function(){return ev&&!eb},[ev,eb]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{mb:"16px",children:eo||(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v.Z,{isOverMax:eZ,currentDuration:et,currentDurationLeft:er,setDuration:ex,duration:em})})}),es?es({isValidDuration:eg,duration:em}):(0,r.jsx)(Z.Z,{isValidDuration:eg,openCalculator:f(),duration:em,lockedAmount:null==ee?void 0:ee.toNumber(),usdValueStaked:ed,showLockWarning:!0,ceiling:ec}),ev?eb?(0,r.jsx)(l.Z,{fontSize:"12px",mt:"24px",children:el("0.0001 CAKE will be spent to extend")}):(0,r.jsx)(c.Z,{variant:"warning",mt:"24px",children:(0,r.jsx)(c.Y,{maxWidth:"200px",children:el("0.0001 CAKE required for enabling extension")})}):null,(0,r.jsx)(u.Z,{mt:"24px",children:ej?(0,r.jsx)(V,{isValidAmount:ek,isValidDuration:eg}):(0,r.jsx)(d.Z,{width:"100%",isLoading:ef,endIcon:ef?(0,r.jsx)(m.Z,{spin:!0,color:"currentColor"}):null,onClick:eh,disabled:!(ek&&eg),children:el(ef?"Confirming":"Confirm")})})]})}},86510:function(e,n,t){t.d(n,{Z:function(){return U}});var r=t(52322),o=t(2784),i=t(13670),a=t(76903),s=t(89495),l=t(76660),c=t(27156),u=t(61973),d=t(53887),m=t(65957),x=t(7642),f=t.n(x),h=t(40907),p=t(14457),k=t(16844),g=t(92228),Z=t(3411);function v(){var e=(0,g.Z)(["\n  text-decoration: line-through;\n"]);return v=function(){return e},e}var b=(0,Z.ZP)(s.Z).withConfig({componentId:"sc-4b9cfd09-0"})(v()),j=function(e){var n=e.value,t=e.newValue;return(0,k.Z)(t)||(0,k.Z)(n)||n===t?(0,r.jsx)(s.Z,{bold:!0,fontSize:"16px",children:n||"-"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{bold:!0,fontSize:"16px",mr:"4px",children:n}),"->",(0,r.jsx)(s.Z,{bold:!0,color:"failure",ml:"4px",fontSize:"16px",children:t})]})},w=function(e){var n=e.title,t=e.value,o=e.newValue;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n}),(0,r.jsx)(a.Z,{alignItems:"center",children:(0,r.jsx)(j,{value:t,newValue:o})})]})},y=t(84102),S=t(98813),T=t(83931),C=function(e){var n=e.value,t=e.newValue,o=e.decimals,i=e.unit,a=e.prefix;return(0,k.Z)(t)||!n||n===t||0===f()(t)?(0,r.jsx)(y.Z,{bold:!0,fontSize:"16px",value:n,decimals:o,unit:i,prefix:a}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{children:(0,r.jsx)(y.Z,{bold:!0,fontSize:"16px",mr:"4px",value:n,decimals:o,unit:i,prefix:a})}),"->",(0,r.jsx)(y.Z,{bold:!0,color:"failure",fontSize:"16px",ml:"4px",value:t,decimals:o,unit:i,prefix:a})]})},A=function(e){var n=e.title,t=e.value,o=e.newValue,i=e.unit,l=e.decimals,c=e.prefix,u=e.suffix,d=e.tooltipContent,m=(0,S.Z)(d,{placement:"bottom-start"}),x=m.targetRef,f=m.tooltip,h=m.tooltipVisible;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[h&&f,d?(0,r.jsx)(T.Z,{children:(0,r.jsx)(s.Z,{ref:x,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n})}):(0,r.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n}),(0,r.jsxs)(a.Z,{alignItems:"center",children:[(0,r.jsx)(C,{newValue:o,value:t,decimals:l,unit:i,prefix:c}),u]})]})},D=(0,o.memo)(A),L=t(88417),P=function(e){var n=e.title,t=e.value,o=e.color,i=(0,(0,m.$G)().t)("You will be able to withdraw the staked CAKE and profit only when the staking position is unlocked, i.e. when the staking period ends."),l=(0,S.Z)(i,{placement:"bottom-start"}),c=l.targetRef,u=l.tooltip,d=l.tooltipVisible;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[d&&u,(0,r.jsx)(T.Z,{children:(0,r.jsx)(s.Z,{ref:c,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n})}),(0,r.jsx)(s.Z,{bold:!0,color:o,children:t?(0,L.Z)(t,"MMM do, yyyy HH:mm"):"-"})]})};function B(e){var n=e.lockedApy,t=e.usdValueStaked,r=e.duration,o=t*(Number(n)/100)*(r/31449600),i=o>1e4?0:2;return o.toLocaleString("en",{minimumFractionDigits:i,maximumFractionDigits:i})}var M=t(6391),E=t.n(M);function I(e){var n=e.lockedAmount,t=e.duration,r=e.ceiling,o=new(E())(t);return o.gte(r)?new(E())(n).toNumber():o.lt(r)&&o.gte(0)?o.times(n).div(r).toNumber():0}var V=t(93058),F=t(3188),N=t(3518),G=function(){var e=(0,o.useContext)(N.G);return(0,r.jsx)(V.Z,{variant:"text",scale:"sm",mr:"-8px",onClick:function(){return e&&e(!0)},children:(0,r.jsx)(F.Z,{color:"textSubtle",width:"18px"})})},U=function(e){var n=e.usdValueStaked,t=e.lockedAmount,x=e.duration,k=e.isValidDuration,g=e.newDuration,Z=e.newLockedAmount,v=e.lockStartTime,b=e.lockEndTime,j=e.showLockWarning,y=e.ceiling,S=(0,d.o)(),T=S.getLockedApy,C=S.getBoostFactor,A=(0,m.$G)().t,L=(0,o.useMemo)(function(){return T(x)},[T,x]),M=(0,o.useMemo)(function(){return C(x)},[C,x]),E=(0,o.useMemo)(function(){return g&&T(g)||0},[T,g]),V=(0,o.useMemo)(function(){return g&&C(g)||0},[C,g]),F=(0,o.useMemo)(function(){return B({usdValueStaked:n,lockedApy:L,duration:x})},[L,n,x]),N=(0,o.useMemo)(function(){return E&&B({usdValueStaked:n,lockedApy:E,duration:g})},[E,n,g]),U=new Date,O=g?(0,u.Z)(Number(v)?new Date((0,h.Eg)(v)):U,g):Number(b)?new Date((0,h.Eg)(b)):(0,u.Z)(U,x),$=(0,o.useMemo)(function(){return I({lockedAmount:t,duration:x,ceiling:y})},[t,x,y]),W=(0,o.useMemo)(function(){var e=Number(Z)?Z:t,n=Number(g)?g:x;return I({lockedAmount:e,duration:n,ceiling:y})},[t,Z,x,g,y]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(a.Z,{mb:"4px",children:[(0,r.jsx)(s.Z,{fontSize:"12px",color:"secondary",bold:!0,mr:"2px",textTransform:"uppercase",children:A("Lock")}),(0,r.jsx)(s.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:A("Overview")})]}),(0,r.jsxs)(c.m5,{children:[(0,r.jsx)(D,{title:A("Cake to be locked"),value:t,newValue:Z,decimals:2}),(0,r.jsx)(D,{title:"iCake",decimals:2,value:$,newValue:W}),(0,r.jsx)(D,{title:"apy",unit:"%",value:f()(L),decimals:2,newValue:f()(E),tooltipContent:A("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns.")}),(0,r.jsx)(w,{title:A("duration"),value:k&&(0,p.ZP)(x),newValue:k&&g&&(0,p.ZP)(g)}),(0,r.jsx)(D,{title:A("Yield boost"),unit:"x",value:f()(M),decimals:2,newValue:f()(V),tooltipContent:A("Your yield will be boosted based on the total lock duration of your current fixed term staking position.")}),(0,r.jsx)(P,{color:f()(g)?"failure":"text",title:A("Unlock on"),value:k&&O}),(0,r.jsx)(D,{title:A("Expected ROI"),value:F,newValue:N,prefix:"$",decimals:2,suffix:(0,r.jsx)(G,{}),tooltipContent:A("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns.")})]})]}),j&&(0,r.jsx)(i.Z,{mt:"16px",maxWidth:"370px",children:(0,r.jsx)(l.Z,{variant:"warning",children:(0,r.jsx)(l.Y,{children:A("You will be able to withdraw the staked CAKE and profit only when the staking position is unlocked")})})})]})}},53331:function(e,n,t){var r=t(52322),o=t(98813),i=t(76903),a=t(83931),s=t(89495),l=t(84102),c=t(53887),u=t(65957),d=function(e){var n=e.secondDuration,t=(0,c.o)({duration:n}).boostFactor,d=(0,u.$G)().t,m=d("Your yield will be boosted based on the total lock duration of your current fixed term staking position."),x=(0,o.Z)(m,{placement:"bottom-start"}),f=x.targetRef,h=x.tooltip,p=x.tooltipVisible;return(0,r.jsxs)(i.Z,{alignItems:"center",justifyContent:"space-between",children:[p&&h,(0,r.jsx)(a.Z,{children:(0,r.jsx)(s.Z,{ref:f,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:d("Yield boost")})}),(0,r.jsx)(l.Z,{color:"text",bold:!0,fontSize:"16px",value:t?null==t?void 0:t.toString():"0",decimals:2,unit:"x"})]})};n.Z=d},26595:function(e,n,t){var r=t(52322),o=t(2784),i=t(62208),a=t(13670),s=t(19081),l=t(36695),c=t(65957),u=t(7642),d=t.n(u),m=t(6391),x=t.n(m),f=t(60398),h=t(11592),p=t(3518),k=function(e){var n=e.onDismiss,t=e.currentBalance,u=e.stakingToken,m=e.stakingTokenBalance,k=(0,s.ZP)().theme,g=(0,o.useState)(""),Z=g[0],v=g[1],b=(0,c.$G)().t,j=(0,l.Tx)(d()(Z));return(0,r.jsx)(p.Z,{lockedAmount:Z,children:(0,r.jsxs)(i.ZP,{title:b("Lock CAKE"),onDismiss:n,headerBackground:k.colors.gradientCardHeader,children:[(0,r.jsx)(a.Z,{mb:"16px",children:(0,r.jsx)(f.Z,{stakingAddress:u.address,stakingSymbol:u.symbol,stakingDecimals:u.decimals,lockedAmount:Z,usedValueStaked:j,stakingMax:t,setLockedAmount:v,stakingTokenBalance:m})}),(0,r.jsx)(h.Z,{currentBalance:t,stakingToken:u,onDismiss:n,lockedAmount:new(x())(Z)})]})})};n.Z=k},3518:function(e,n,t){t.d(n,{G:function(){return u}});var r=t(52322),o=t(2784),i=t(65957),a=t(99225),s=t(66188),l=t.n(s),c=t(18666),u=(0,o.createContext)(null),d=function(e){var n,t,s=e.children,d=e.lockedAmount,m=(0,o.useState)(!1),x=m[0],f=m[1],h=(0,i.$G)().t,p=(0,a.AI)(0).pool,k=(null==p?void 0:null===(n=p.stakingToken)||void 0===n?void 0:n.address)?p.stakingToken.address.toLowerCase():null;return x?(0,r.jsx)(c.E,{pool:p,linkLabel:h("Get %symbol%",{symbol:"CAKE"}),linkHref:k?"/swap?outputCurrency=".concat(k):"/swap",stakingTokenBalance:null==p?void 0:null===(t=p.userData)||void 0===t?void 0:t.stakingTokenBalance,onBack:function(){return f(!1)},initialValue:l()(d),initialView:1}):(0,r.jsx)(u.Provider,{value:f,children:s})};n.Z=d},22557:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(2784),o=t(73486),i=t(6391),a=t.n(i),s=t(7642),l=t.n(s),c=t(99225),u=t(95522),d=t(7599),m=t(14457);function x(){var e=(0,c.Xo)(),n=e.totalLockedAmount,t=e.totalShares,i=e.totalCakeInVault,s=e.pricePerFullShare,x=(0,r.useMemo)(function(){var e=i.minus(n).div(s).times(d.o3),r=t.minus(e),l=n.div(s).times(d.o3);return r.div(l).minus(1).times(new(a())(o.A0.toString())).div(new(a())(o.xt.toString()).div((0,u.t)(12))).toFixed(0)},[i,n,s,t]);return{avgLockDurationsInWeeks:(0,r.useMemo)(function(){return(0,m.ZP)(x)},[x]),avgLockDurationsInSeconds:l()(x)}}},8810:function(e,n,t){var r=t(65957),o=t(40907),i=t(14457),a=function(e){var n=e.lockEndTime,t=e.lockStartTime,a=(0,r.$G)().currentLanguage.locale,s=Number(n)-Number(t),l=(0,o.Eg)(n),c="",u="";try{c=new Date(l).toLocaleString(a,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),u=new Date(l+6048e5).toLocaleString(a,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(d){}return{weekDuration:(0,i.ZP)(s),remainingTime:(0,o.At)(l),lockEndDate:c,secondDuration:s,burnStartTime:u}};n.Z=a},39513:function(e,n,t){t.d(n,{S:function(){return l}});var r=t(6391),o=t.n(r),i=t(65957),a=t(18426),s=t(2784),l=function(e,n){var t=(0,(0,i.$G)().t)("Insufficient CAKE balance");return{userNotEnoughCake:(0,s.useMemo)(function(){return!!new(o())(e).gt((0,a.U4)(n,18))},[e,n]),notEnoughErrorMessage:t}}},69688:function(e,n,t){var r=t(92228),o=t(52322),i=t(65957),a=t(3411),s=t(73697),l=t(62208),c=t(89495),u=t(48608),d=t(79473),m=t(19081);function x(){var e=(0,r.Z)(["\n  width: 100%;\n"]);return x=function(){return e},e}var f=(0,a.ZP)(s.Z).withConfig({componentId:"sc-f9a2dd70-0"})(x()),h=function(e){var n=e.tokenSymbol,t=e.onDismiss,r=(0,i.$G)().t,a=(0,m.ZP)().theme;return(0,o.jsxs)(l.ZP,{title:r("%symbol% required",{symbol:n}),onDismiss:t,headerBackground:a.colors.gradientCardHeader,children:[(0,o.jsx)(c.Z,{color:"failure",bold:!0,children:r("Insufficient %symbol% balance",{symbol:n})}),(0,o.jsx)(c.Z,{mt:"24px",children:r("You’ll need %symbol% to stake in this pool!",{symbol:n})}),(0,o.jsx)(c.Z,{children:r("Buy some %symbol%, or make sure your %symbol% isn’t in another pool or LP.",{symbol:n})}),(0,o.jsxs)(u.Z,{mt:"24px",as:"a",external:!0,href:"/swap",children:[r("Buy")," ",n]}),(0,o.jsx)(f,{href:"https://yieldwatch.net",external:!0,children:(0,o.jsxs)(u.Z,{variant:"secondary",mt:"8px",width:"100%",children:[r("Locate Assets"),(0,o.jsx)(d.Z,{color:"primary",ml:"4px"})]})}),(0,o.jsx)(u.Z,{variant:"text",onClick:t,children:r("Close Window")})]})};n.Z=h},82112:function(e,n,t){t.d(n,{Z:function(){return F}});var r=t(52322),o=t(76903),i=t(89495),a=t(73697),s=t(64343),l=t(70581),c=t(74009),u=t(35378),d=t(40346),m=t(82466),x=t(65957),f=t(2784),h=t(26488),p=t(99225),k=t(93638),g=t(5305),Z=t(70627),v=t(81834),b=t(9681),j=t(18426),w=function(e){var n=e.small,t=void 0!==n&&n,c=e.stakingLimit,u=e.currentBlock,d=e.stakingLimitEndBlock,m=e.stakingToken,f=e.hasPoolStarted,h=(0,x.$G)().t;return(0,r.jsxs)(o.Z,{flexDirection:"column",children:[(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:t,children:[h("Max. stake per user"),":"]}),(0,r.jsx)(i.Z,{small:t,children:"".concat((0,j.NJ)(c,m.decimals,0)," ").concat(m.symbol)})]}),f&&(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:t,children:[h("Max. stake limit ends in"),":"]}),(0,r.jsxs)(a.Z,{external:!0,href:(0,g.C)(d,"countdown"),children:[(0,r.jsx)(s.Z,{small:t,value:Math.max(d-u,0),decimals:0,color:"primary"}),(0,r.jsx)(i.Z,{small:t,ml:"4px",color:"primary",textTransform:"lowercase",children:h("Blocks")}),(0,r.jsx)(l.Z,{ml:"4px",color:"primary"})]})]})]})},y=t(98813),S=t(83931),T=t(27240),C=t(22557),A=t(97421),D=function(e){var n=e.children,t=e.label;return(0,r.jsxs)(o.Z,{mb:"2px",justifyContent:"space-between",alignItems:"center",width:"100%",children:[t,(0,r.jsx)(o.Z,{alignItems:"center",children:n})]})},L=function(e){var n=e.userData,t=e.performanceFeeAsDecimal,o=(0,x.$G)().t,a=(0,y.Z)(o("Performance fee only applies to the flexible staking rewards."),{placement:"bottom-start"}),s=a.targetRef,l=a.tooltip,c=a.tooltipVisible,u=(0,T.p1)(n),d=(0,T.IM)(n);return!t||u?null:(0,r.jsxs)(D,{label:(0,r.jsx)(S.Z,{ref:s,small:!0,children:o("Performance Fee")}),children:[c&&l,(0,r.jsx)(i.Z,{ml:"4px",small:!0,children:d?"".concat(t,"%"):"0~".concat(t,"%")})]})},P=function(e){var n=e.total,t=e.token;return n&&n.gte(0)?(0,r.jsx)(s.Z,{small:!0,value:(0,j.mW)(n,t.decimals),decimals:0,unit:" ".concat(t.symbol)}):(0,r.jsx)(c.Z,{width:"90px",height:"21px"})},B=function(e){var n=e.totalLocked,t=e.lockedToken,o=(0,x.$G)().t;return(0,r.jsx)(D,{label:(0,r.jsxs)(i.Z,{small:!0,children:[o("Total locked"),":"]}),children:(0,r.jsx)(P,{total:n,token:t})})},M=function(){var e=(0,x.$G)().t,n=(0,y.Z)(e("The average lock duration of all the locked staking positions of other users"),{placement:"bottom-start"}),t=n.targetRef,o=n.tooltip,a=n.tooltipVisible,s=(0,C.Z)().avgLockDurationsInWeeks;return(0,r.jsxs)(D,{label:(0,r.jsxs)(S.Z,{ref:t,small:!0,children:[e("Average lock duration"),":"]}),children:[a&&o,(0,r.jsx)(i.Z,{ml:"4px",small:!0,children:s})]})},E=function(e){var n=e.totalStaked,t=e.stakingToken,o=(0,x.$G)().t,i=(0,y.Z)(o("Total amount of %symbol% staked in this pool",{symbol:t.symbol}),{placement:"bottom"}),a=i.targetRef,s=i.tooltip,l=i.tooltipVisible;return(0,r.jsxs)(D,{label:(0,r.jsxs)(S.Z,{ref:a,small:!0,children:[o("Total staked"),":"]}),children:[l&&s,(0,r.jsx)(P,{total:n,token:t})]})},I=function(e){var n=e.pool,t=e.stakedBalance,a=(0,x.$G)().t;return(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:!0,children:[a("APR"),":"]}),(0,r.jsx)(A.Z,{pool:n,showIcon:!0,stakedBalance:t,performanceFee:0,fontSize:"14px"})]})},V=function(e){var n=e.pool,t=e.account,f=e.showTotalStaked,j=e.alignLinksToRight,y=void 0===j||j,S=(0,x.$G)().t,T=(0,h.je)(),C=n.stakingToken,A=n.earningToken,D=n.totalStaked,P=n.startBlock,V=n.endBlock,F=n.stakingLimit,N=n.stakingLimitEndBlock,G=n.contractAddress,U=n.vaultKey,O=n.profileRequirement,$=n.isFinished,W=n.userData,z=(null==W?void 0:W.stakedBalance)?W.stakedBalance:v.HW,_=(0,p.eB)(U),R=_.totalCakeInVault,K=_.totalLockedAmount,H=_.fees.performanceFeeAsDecimal,Y=_.userData,X=A.address||"",q=(0,Z.Kn)(G),J=(0,Z.ZX)(U),Q=(0,b.zy)(n,T),ee=Q.shouldShowBlockCountdown,en=Q.blocksUntilStart,et=Q.blocksRemaining,er=Q.hasPoolStarted,eo=Q.blocksToDisplay;return(0,r.jsxs)(r.Fragment,{children:[O&&(O.required||O.thresholdPoints.gt(0))&&(0,r.jsxs)(o.Z,{mb:"8px",justifyContent:"space-between",children:[(0,r.jsxs)(i.Z,{small:!0,children:[S("Requirement"),":"]}),(0,r.jsxs)(i.Z,{small:!0,textAlign:"right",children:[O.required&&S("Pancake Profile")," ",O.thresholdPoints.gt(0)&&(0,r.jsxs)(i.Z,{small:!0,children:[O.thresholdPoints.toNumber().toLocaleString()," ",S("Profile Points")]})]})]}),!U&&(0,r.jsx)(I,{pool:n,stakedBalance:z}),(void 0===f||f)&&(0,r.jsx)(E,{totalStaked:U?R:D,stakingToken:C}),U===k.om.CakeVault&&(0,r.jsx)(B,{totalLocked:K,lockedToken:C}),U===k.om.CakeVault&&(0,r.jsx)(M,{}),!$&&F&&F.gt(0)&&(0,r.jsx)(w,{small:!0,currentBlock:T,hasPoolStarted:er,stakingLimit:F,stakingLimitEndBlock:N,stakingToken:C}),ee&&(0,r.jsxs)(o.Z,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:!0,children:[S(er?"Ends in":"Starts in"),":"]}),et||en?(0,r.jsx)(o.Z,{alignItems:"center",children:(0,r.jsxs)(a.Z,{external:!0,href:(0,g.C)(er?V:P,"countdown"),children:[(0,r.jsx)(s.Z,{small:!0,value:eo,decimals:0,color:"primary"}),(0,r.jsx)(i.Z,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:S("Blocks")}),(0,r.jsx)(l.Z,{ml:"4px",color:"primary"})]})}):(0,r.jsx)(c.Z,{width:"54px",height:"21px"})]}),U&&(0,r.jsx)(L,{userData:Y,performanceFeeAsDecimal:H}),(0,r.jsx)(o.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(u.Z,{href:"/info/token/".concat(A.address),bold:!1,small:!0,children:S("See Token Info")})}),!U&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(u.Z,{href:A.projectLink,bold:!1,small:!0,children:S("View Project Site")})}),U&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(u.Z,{href:"https://docs.pancakeswap.finance/products/syrup-pool/new-cake-pool",bold:!1,small:!0,children:S("View Tutorial")})}),q&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(u.Z,{href:"".concat(m.eG.blockExplorers.default.url,"/address/").concat(U?J:q),bold:!1,small:!0,children:S("View Contract")})}),t&&X&&(0,r.jsx)(o.Z,{justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(d.Z,{variant:"text",p:"0",height:"auto",style:{fontSize:"14px",fontWeight:"400",lineHeight:"normal"},marginTextBetweenLogo:"4px",textOptions:d.L.TEXT,tokenAddress:X,tokenSymbol:A.symbol,tokenDecimals:A.decimals,tokenLogo:"https://tokens.pancakeswap.finance/images/".concat(X,".png")})})]})},F=(0,f.memo)(V)},63992:function(e,n,t){t.d(n,{X:function(){return C}});var r,o,i,a=t(47842),s=t(70865),l=t(96670),c=t(26297),u=t(52322),d=t(46514),m=t(35141),x=t(92907),f=t(63299),h=t(57432),p=t(13670),k=t(59482),g=t(89495),Z=t(60471),v=t(65957),b=t(2784),j=t(27240),w=(r={},(0,a.Z)(r,j.PS.None,{}),(0,a.Z)(r,j.PS.Flexible,{variant:"success"}),(0,a.Z)(r,j.PS.Locked,{variant:"secondary"}),(0,a.Z)(r,j.PS.LockedEnd,{variant:"secondary",outline:!0}),(0,a.Z)(r,j.PS.AfterBurning,{variant:"failure",outline:!0}),r),y=(o={},(0,a.Z)(o,j.PS.None,null),(0,a.Z)(o,j.PS.Flexible,d.Z),(0,a.Z)(o,j.PS.Locked,m.Z),(0,a.Z)(o,j.PS.LockedEnd,x.Z),(0,a.Z)(o,j.PS.AfterBurning,f.Z),o),S=(i={},(0,a.Z)(i,j.PS.None,""),(0,a.Z)(i,j.PS.Flexible,(0,u.jsx)(Z.Z,{children:"Flexible"})),(0,a.Z)(i,j.PS.Locked,(0,u.jsx)(Z.Z,{children:"Locked"})),(0,a.Z)(i,j.PS.LockedEnd,(0,u.jsx)(Z.Z,{children:"Locked End"})),(0,a.Z)(i,j.PS.AfterBurning,(0,u.jsx)(Z.Z,{children:"After Burning"})),i),T=function(e){var n=e.position;return(0,u.jsxs)(h.Z,(0,l.Z)((0,s.Z)({},w[n]),{children:[(0,u.jsx)(p.Z,{as:y[n],mr:"4px"}),S[n]]}))},C=function(e){var n=e.userData,t=(0,c.Z)(e,["userData"]),r=(0,v.$G)().t,o=(0,b.useMemo)(function(){return(0,j.cP)(n)},[n]);return o?(0,u.jsxs)(k.Z,(0,l.Z)((0,s.Z)({alignItems:"center",justifyContent:"space-between",marginX:"8px",mb:"8px",gap:"12px"},t),{children:[(0,u.jsx)(g.Z,{fontSize:"12px",color:"secondary",textTransform:"uppercase",bold:!0,children:r("My Position")}),(0,u.jsx)(T,{position:o})]})):null}},18666:function(e,n,t){t.d(n,{E:function(){return b}});var r=t(70865),o=t(96670),i=t(26297),a=t(52322),s=t(97984),l=t(87652),c=t(2448),u=t(13670),d=t(44368),m=t(65957),x=t(53887),f=t(2784),h=t(93638),p=t(99225),k=t(97252),g=t(65342),Z=t(65878),v=t(14457),b=function(e){var n,t,d=e.pool,k=e.initialView,b=(0,i.Z)(e,["pool","initialView"]),w=(0,p.eB)(d.vaultKey).userData.balance.cakeAsBigNumber,y=(0,x.o)(),S=y.getLockedApy,T=y.flexibleApy,C=(0,m.$G)().t,A=(0,g.Z)().account,D=(0,f.useState)(k||0),L=D[0],P=D[1],B=(0,f.useState)(function(){return(0,v.AS)(1)}),M=B[0],E=B[1],I=(0,f.useMemo)(function(){return[(0,a.jsx)(s.Z,{children:C("Flexible")},"Flexible"),(0,a.jsx)(s.Z,{children:C("Locked")},"Locked"),]},[C]),V=(0,f.useMemo)(function(){return 0===L?T:S(M)},[L,S,T,M]);return(0,a.jsx)(l.Z,(0,o.Z)((0,r.Z)({account:A,stakingTokenSymbol:d.stakingToken.symbol,apy:+V,initialState:{controls:{compounding:!1}},linkHref:"/swap",linkLabel:C("Get %symbol%",{symbol:d.stakingToken.symbol}),earningTokenPrice:d.earningTokenPrice,stakingTokenPrice:d.stakingTokenPrice,stakingTokenBalance:(null===(n=d.userData)||void 0===n?void 0:n.stakingTokenBalance)?w.plus(null===(t=d.userData)||void 0===t?void 0:t.stakingTokenBalance):w,autoCompoundFrequency:1,strategy:L?function(e,n){return(0,a.jsx)(j,{state:e,dispatch:n,stakingTokenPrice:d.stakingTokenPrice,earningTokenPrice:d.earningTokenPrice,duration:M})}:null,header:d.vaultKey===h.om.CakeVault?(0,a.jsx)(c.Z,{mb:"24px",fullWidth:!0,scale:"sm",variant:"subtle",activeIndex:L,onItemClick:P,children:I}):(0,a.jsx)(a.Fragment,{})},b),{children:L&&(0,a.jsx)(u.Z,{mt:"16px",children:(0,a.jsx)(Z.Z,{duration:M,setDuration:E,isOverMax:!1})})}))};function j(e){var n=e.state,t=e.dispatch,r=e.earningTokenPrice,o=e.duration,i=e.stakingTokenPrice,a=(0,x.o)().getLockedApy,s=n.data,l=s.principalAsUSD,c=s.roiUSD,u=n.controls,m=u.compounding,h=u.compoundingFrequency,p=u.stakingDuration,g=u.mode;return(0,f.useEffect)(function(){if(g===d.ee.ROI_BASED_ON_PRINCIPAL){var e=parseFloat(l),n=e/r*(+a(o)/100)*(o/31449600),i=!Number.isNaN(n),s=i?n:0,c=i?s*r:0,u=i?(0,k.Lu)({amountEarned:c,amountInvested:e}):0;t({type:"setRoi",payload:{roiUSD:c,roiTokens:s,roiPercentage:u}})}},[l,p,r,m,h,g,o,t,a,]),(0,f.useEffect)(function(){if(g===d.ee.PRINCIPAL_BASED_ON_ROI){var e=c/(+a(o)/100)/(o/31449600),n=(0,k.Lu)({amountEarned:c,amountInvested:e});t({type:"setPrincipalForTargetRoi",payload:{principalAsUSD:e.toFixed(2),principalAsToken:(e/i).toFixed(10),roiPercentage:n}})}},[t,o,a,g,c,i]),null}},68528:function(e,n,t){t.d(n,{w:function(){return u}});var r=t(52322),o=t(98813),i=t(13670),a=t(59482),s=t(48608),l=t(83931),c=t(65957),u=function(e){var n=e.onFlexibleClick,t=e.onLockedClick,u=(0,c.$G)().t,d=(0,o.Z)((0,r.jsx)(i.Z,{children:u("Flexible staking offers flexibility for staking/unstaking whenever you want. Locked staking offers higher APY as well as other benefits.")}),{}),m=d.targetRef,x=d.tooltip,f=d.tooltipVisible;return(0,r.jsxs)(i.Z,{width:"100%",children:[(0,r.jsxs)(a.Z,{gap:"12px",children:[(0,r.jsx)(s.Z,{style:{flex:1},onClick:n,children:u("Flexible")}),t&&(0,r.jsx)(s.Z,{style:{flex:1},onClick:t,children:u("Locked")})]}),f&&x,t&&(0,r.jsx)(l.Z,{mt:"16px",small:!0,ref:m,children:u("What’s the difference?")})]})}},14457:function(e,n,t){t.d(n,{AS:function(){return c},Ot:function(){return s},i8:function(){return l}});var r=t(784),o=t(69295),i=t(94533),a=t(61973),s=function(e){var n=new Date,t=(0,a.Z)(n,e);return(0,o.Z)(new Date(t),n,{roundingMethod:"round"})},l=function(e){var n=new Date,t=(0,a.Z)(n,e);return(0,i.Z)(new Date(t),n)},c=function(e){return 604800*e},u=function(e){return(0,r.Z)({weeks:s(e)})};n.ZP=u},33431:function(e,n,t){t.d(n,{iB:function(){return Z},dI:function(){return b},Le:function(){return v}});var r=t(98788),o=t(5163),i=t(52322),a=t(2784),s=t(9270),l=t(90711),c=t(88700);t(44868);var u=t(36664),d=t(65957),m=t(76269),x=t(22723),f=t(80361),h=t(78950),p=t(28715),k=t(91240),g=t(68310),Z=function(e,n,t){var k=(0,x.p)().toastSuccess,g=(0,h.Z)(),Z=g.fetchWithCatchTxError,v=g.loading,b=(0,f.r)().callWithMarketGasPrice,j=(0,d.$G)().t,w=(0,c.TL)(),y=(0,s.Ge)().account,S=(0,m.AP)(n);return{handleApprove:(0,a.useCallback)((0,r.Z)(function(){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,Z(function(){return b(e,"approve",[S.address,l.Bz])})];case 1:return(null==(r=o.sent())?void 0:r.status)&&(k(j("Contract Enabled"),(0,i.jsx)(p.Y,{txHash:r.transactionHash,children:j("You can now stake in the %symbol% pool!",{symbol:t})})),w((0,u.Oy)({sousId:n,account:y}))),[2]}})}),[y,w,e,S,n,t,j,k,b,Z,]),pendingTx:v}},v=function(e,n){var t=(0,m.Ak)(e),r=(0,d.$G)().t;return(0,g.Z)(n,null==t?void 0:t.address,r("You can now stake in the %symbol% vault!",{symbol:"CAKE"}))},b=function(e){var n=(0,m.Ak)(e);return(0,k.Z)(null==n?void 0:n.address)}},41551:function(e,n,t){t.d(n,{D:function(){return o}});var r=t(2784),o=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:259200;return e+t-Math.floor(Date.now()/1e3)>0},i=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:259200,o=(0,r.useState)(null),i=o[0],a=o[1],s=(0,r.useState)(!1),l=s[0],c=s[1],u=(0,r.useState)(function(){return Math.floor(Date.now()/1e3)}),d=u[0],m=u[1];return(0,r.useEffect)(function(){var r=e+t-d,o=n.gt(0)&&r>0,i=function(){m(function(e){return e+1})},s=setInterval(function(){return i()},1e3);return o?(a(r),c(!0)):(c(!1),clearInterval(s)),function(){return clearInterval(s)}},[e,t,a,d,n]),{hasUnstakingFee:l,secondsRemaining:i}};n.Z=i}}]);
//# sourceMappingURL=2834-019b51d97dc57861.js.map